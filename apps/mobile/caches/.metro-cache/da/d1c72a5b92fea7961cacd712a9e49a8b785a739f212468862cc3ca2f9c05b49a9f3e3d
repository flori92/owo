{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":37,"index":71}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useProfileForm = useProfileForm;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNative = require(_dependencyMap[3], \"react-native\");\n  function useProfileForm(initialProfile, user, onSuccess) {\n    _s();\n    var _useState = (0, _react.useState)(initialProfile?.first_name || \"\"),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      firstName = _useState2[0],\n      setFirstName = _useState2[1];\n    var _useState3 = (0, _react.useState)(initialProfile?.last_name || \"\"),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      lastName = _useState4[0],\n      setLastName = _useState4[1];\n    var _useState5 = (0, _react.useState)(initialProfile?.email || user?.email || \"\"),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n    var _useState7 = (0, _react.useState)(initialProfile?.phone || \"\"),\n      _useState8 = (0, _slicedToArray.default)(_useState7, 2),\n      phone = _useState8[0],\n      setPhone = _useState8[1];\n    var _useState9 = (0, _react.useState)(initialProfile?.address || \"\"),\n      _useState0 = (0, _slicedToArray.default)(_useState9, 2),\n      address = _useState0[0],\n      setAddress = _useState0[1];\n    var _useState1 = (0, _react.useState)(initialProfile?.city || \"\"),\n      _useState10 = (0, _slicedToArray.default)(_useState1, 2),\n      city = _useState10[0],\n      setCity = _useState10[1];\n    var _useState11 = (0, _react.useState)(false),\n      _useState12 = (0, _slicedToArray.default)(_useState11, 2),\n      saving = _useState12[0],\n      setSaving = _useState12[1];\n    var updateProfile = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (preferences) {\n        setSaving(true);\n        try {\n          var response = yield fetch(\"/api/user-profile\", {\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              first_name: firstName,\n              last_name: lastName,\n              email: email,\n              phone: phone,\n              address: address,\n              city: city,\n              ...preferences\n            })\n          });\n          if (response.ok) {\n            _reactNative.Alert.alert(\"Succès\", \"Profil mis à jour\");\n            if (onSuccess) {\n              onSuccess();\n            }\n            return true;\n          } else {\n            var error = yield response.json();\n            _reactNative.Alert.alert(\"Erreur\", error.error || \"Impossible de mettre à jour\");\n            return false;\n          }\n        } catch (error) {\n          console.error(\"Erreur mise à jour profil:\", error);\n          _reactNative.Alert.alert(\"Erreur\", \"Erreur réseau\");\n          return false;\n        } finally {\n          setSaving(false);\n        }\n      });\n      return function updateProfile(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var setFormData = (profile, user) => {\n      setFirstName(profile?.first_name || \"\");\n      setLastName(profile?.last_name || \"\");\n      setEmail(profile?.email || user?.email || \"\");\n      setPhone(profile?.phone || \"\");\n      setAddress(profile?.address || \"\");\n      setCity(profile?.city || \"\");\n    };\n    return {\n      firstName,\n      setFirstName,\n      lastName,\n      setLastName,\n      email,\n      setEmail,\n      phone,\n      setPhone,\n      address,\n      setAddress,\n      city,\n      setCity,\n      saving,\n      updateProfile,\n      setFormData\n    };\n  }\n  _s(useProfileForm, \"gwe/RQbgJgsttvur6+SSTJJ2EYw=\");\n});","lineCount":119,"map":[[13,2,4,0,"exports"],[13,9,4,0],[13,10,4,0,"useProfileForm"],[13,24,4,0],[13,27,4,0,"useProfileForm"],[13,41,4,0],[14,2,78,1],[14,6,78,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,78,1],[14,45,78,1,"require"],[14,52,78,1],[14,53,78,1,"_dependencyMap"],[14,67,78,1],[15,2,78,1],[15,6,78,1,"_asyncToGenerator"],[15,23,78,1],[15,26,78,1,"_interopDefault"],[15,41,78,1],[15,42,78,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,78,1],[16,2,78,1],[16,6,78,1,"_babelRuntimeHelpersSlicedToArray"],[16,39,78,1],[16,42,78,1,"require"],[16,49,78,1],[16,50,78,1,"_dependencyMap"],[16,64,78,1],[17,2,78,1],[17,6,78,1,"_slicedToArray"],[17,20,78,1],[17,23,78,1,"_interopDefault"],[17,38,78,1],[17,39,78,1,"_babelRuntimeHelpersSlicedToArray"],[17,72,78,1],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_reactNative"],[19,18,2,0],[19,21,2,0,"require"],[19,28,2,0],[19,29,2,0,"_dependencyMap"],[19,43,2,0],[20,2,4,7],[20,11,4,16,"useProfileForm"],[20,25,4,30,"useProfileForm"],[20,26,4,31,"initialProfile"],[20,40,4,45],[20,42,4,47,"user"],[20,46,4,51],[20,48,4,53,"onSuccess"],[20,57,4,62],[20,59,4,64],[21,4,4,64,"_s"],[21,6,4,64],[22,4,5,2],[22,8,5,2,"_useState"],[22,17,5,2],[22,20,5,36],[22,24,5,36,"useState"],[22,30,5,44],[22,31,5,44,"useState"],[22,39,5,44],[22,41,5,45,"initialProfile"],[22,55,5,59],[22,57,5,61,"first_name"],[22,67,5,71],[22,71,5,75],[22,73,5,77],[22,74,5,78],[23,6,5,78,"_useState2"],[23,16,5,78],[23,23,5,78,"_slicedToArray"],[23,37,5,78],[23,38,5,78,"default"],[23,45,5,78],[23,47,5,78,"_useState"],[23,56,5,78],[24,6,5,9,"firstName"],[24,15,5,18],[24,18,5,18,"_useState2"],[24,28,5,18],[25,6,5,20,"setFirstName"],[25,18,5,32],[25,21,5,32,"_useState2"],[25,31,5,32],[26,4,6,2],[26,8,6,2,"_useState3"],[26,18,6,2],[26,21,6,34],[26,25,6,34,"useState"],[26,31,6,42],[26,32,6,42,"useState"],[26,40,6,42],[26,42,6,43,"initialProfile"],[26,56,6,57],[26,58,6,59,"last_name"],[26,67,6,68],[26,71,6,72],[26,73,6,74],[26,74,6,75],[27,6,6,75,"_useState4"],[27,16,6,75],[27,23,6,75,"_slicedToArray"],[27,37,6,75],[27,38,6,75,"default"],[27,45,6,75],[27,47,6,75,"_useState3"],[27,57,6,75],[28,6,6,9,"lastName"],[28,14,6,17],[28,17,6,17,"_useState4"],[28,27,6,17],[29,6,6,19,"setLastName"],[29,17,6,30],[29,20,6,30,"_useState4"],[29,30,6,30],[30,4,7,2],[30,8,7,2,"_useState5"],[30,18,7,2],[30,21,7,28],[30,25,7,28,"useState"],[30,31,7,36],[30,32,7,36,"useState"],[30,40,7,36],[30,42,8,4,"initialProfile"],[30,56,8,18],[30,58,8,20,"email"],[30,63,8,25],[30,67,8,29,"user"],[30,71,8,33],[30,73,8,35,"email"],[30,78,8,40],[30,82,8,44],[30,84,9,2],[30,85,9,3],[31,6,9,3,"_useState6"],[31,16,9,3],[31,23,9,3,"_slicedToArray"],[31,37,9,3],[31,38,9,3,"default"],[31,45,9,3],[31,47,9,3,"_useState5"],[31,57,9,3],[32,6,7,9,"email"],[32,11,7,14],[32,14,7,14,"_useState6"],[32,24,7,14],[33,6,7,16,"setEmail"],[33,14,7,24],[33,17,7,24,"_useState6"],[33,27,7,24],[34,4,10,2],[34,8,10,2,"_useState7"],[34,18,10,2],[34,21,10,28],[34,25,10,28,"useState"],[34,31,10,36],[34,32,10,36,"useState"],[34,40,10,36],[34,42,10,37,"initialProfile"],[34,56,10,51],[34,58,10,53,"phone"],[34,63,10,58],[34,67,10,62],[34,69,10,64],[34,70,10,65],[35,6,10,65,"_useState8"],[35,16,10,65],[35,23,10,65,"_slicedToArray"],[35,37,10,65],[35,38,10,65,"default"],[35,45,10,65],[35,47,10,65,"_useState7"],[35,57,10,65],[36,6,10,9,"phone"],[36,11,10,14],[36,14,10,14,"_useState8"],[36,24,10,14],[37,6,10,16,"setPhone"],[37,14,10,24],[37,17,10,24,"_useState8"],[37,27,10,24],[38,4,11,2],[38,8,11,2,"_useState9"],[38,18,11,2],[38,21,11,32],[38,25,11,32,"useState"],[38,31,11,40],[38,32,11,40,"useState"],[38,40,11,40],[38,42,11,41,"initialProfile"],[38,56,11,55],[38,58,11,57,"address"],[38,65,11,64],[38,69,11,68],[38,71,11,70],[38,72,11,71],[39,6,11,71,"_useState0"],[39,16,11,71],[39,23,11,71,"_slicedToArray"],[39,37,11,71],[39,38,11,71,"default"],[39,45,11,71],[39,47,11,71,"_useState9"],[39,57,11,71],[40,6,11,9,"address"],[40,13,11,16],[40,16,11,16,"_useState0"],[40,26,11,16],[41,6,11,18,"setAddress"],[41,16,11,28],[41,19,11,28,"_useState0"],[41,29,11,28],[42,4,12,2],[42,8,12,2,"_useState1"],[42,18,12,2],[42,21,12,26],[42,25,12,26,"useState"],[42,31,12,34],[42,32,12,34,"useState"],[42,40,12,34],[42,42,12,35,"initialProfile"],[42,56,12,49],[42,58,12,51,"city"],[42,62,12,55],[42,66,12,59],[42,68,12,61],[42,69,12,62],[43,6,12,62,"_useState10"],[43,17,12,62],[43,24,12,62,"_slicedToArray"],[43,38,12,62],[43,39,12,62,"default"],[43,46,12,62],[43,48,12,62,"_useState1"],[43,58,12,62],[44,6,12,9,"city"],[44,10,12,13],[44,13,12,13,"_useState10"],[44,24,12,13],[45,6,12,15,"setCity"],[45,13,12,22],[45,16,12,22,"_useState10"],[45,27,12,22],[46,4,13,2],[46,8,13,2,"_useState11"],[46,19,13,2],[46,22,13,30],[46,26,13,30,"useState"],[46,32,13,38],[46,33,13,38,"useState"],[46,41,13,38],[46,43,13,39],[46,48,13,44],[46,49,13,45],[47,6,13,45,"_useState12"],[47,17,13,45],[47,24,13,45,"_slicedToArray"],[47,38,13,45],[47,39,13,45,"default"],[47,46,13,45],[47,48,13,45,"_useState11"],[47,59,13,45],[48,6,13,9,"saving"],[48,12,13,15],[48,15,13,15,"_useState12"],[48,26,13,15],[49,6,13,17,"setSaving"],[49,15,13,26],[49,18,13,26,"_useState12"],[49,29,13,26],[50,4,15,2],[50,8,15,8,"updateProfile"],[50,21,15,21],[51,6,15,21],[51,10,15,21,"_ref"],[51,14,15,21],[51,21,15,21,"_asyncToGenerator"],[51,38,15,21],[51,39,15,21,"default"],[51,46,15,21],[51,48,15,24],[51,59,15,31,"preferences"],[51,70,15,42],[51,72,15,47],[52,8,16,4,"setSaving"],[52,17,16,13],[52,18,16,14],[52,22,16,18],[52,23,16,19],[53,8,17,4],[53,12,17,8],[54,10,18,6],[54,14,18,12,"response"],[54,22,18,20],[54,31,18,29,"fetch"],[54,36,18,34],[54,37,18,35],[54,56,18,54],[54,58,18,56],[55,12,19,8,"method"],[55,18,19,14],[55,20,19,16],[55,25,19,21],[56,12,20,8,"headers"],[56,19,20,15],[56,21,20,17],[57,14,20,19],[57,28,20,33],[57,30,20,35],[58,12,20,54],[58,13,20,55],[59,12,21,8,"body"],[59,16,21,12],[59,18,21,14,"JSON"],[59,22,21,18],[59,23,21,19,"stringify"],[59,32,21,28],[59,33,21,29],[60,14,22,10,"first_name"],[60,24,22,20],[60,26,22,22,"firstName"],[60,35,22,31],[61,14,23,10,"last_name"],[61,23,23,19],[61,25,23,21,"lastName"],[61,33,23,29],[62,14,24,10,"email"],[62,19,24,15],[62,21,24,17,"email"],[62,26,24,22],[63,14,25,10,"phone"],[63,19,25,15],[63,21,25,17,"phone"],[63,26,25,22],[64,14,26,10,"address"],[64,21,26,17],[64,23,26,19,"address"],[64,30,26,26],[65,14,27,10,"city"],[65,18,27,14],[65,20,27,16,"city"],[65,24,27,20],[66,14,28,10],[66,17,28,13,"preferences"],[67,12,29,8],[67,13,29,9],[68,10,30,6],[68,11,30,7],[68,12,30,8],[69,10,32,6],[69,14,32,10,"response"],[69,22,32,18],[69,23,32,19,"ok"],[69,25,32,21],[69,27,32,23],[70,12,33,8,"Alert"],[70,24,33,13],[70,25,33,13,"Alert"],[70,30,33,13],[70,31,33,14,"alert"],[70,36,33,19],[70,37,33,20],[70,45,33,28],[70,47,33,30],[70,66,33,49],[70,67,33,50],[71,12,34,8],[71,16,34,12,"onSuccess"],[71,25,34,21],[71,27,34,23],[72,14,35,10,"onSuccess"],[72,23,35,19],[72,24,35,20],[72,25,35,21],[73,12,36,8],[74,12,37,8],[74,19,37,15],[74,23,37,19],[75,10,38,6],[75,11,38,7],[75,17,38,13],[76,12,39,8],[76,16,39,14,"error"],[76,21,39,19],[76,30,39,28,"response"],[76,38,39,36],[76,39,39,37,"json"],[76,43,39,41],[76,44,39,42],[76,45,39,43],[77,12,40,8,"Alert"],[77,24,40,13],[77,25,40,13,"Alert"],[77,30,40,13],[77,31,40,14,"alert"],[77,36,40,19],[77,37,40,20],[77,45,40,28],[77,47,40,30,"error"],[77,52,40,35],[77,53,40,36,"error"],[77,58,40,41],[77,62,40,45],[77,91,40,74],[77,92,40,75],[78,12,41,8],[78,19,41,15],[78,24,41,20],[79,10,42,6],[80,8,43,4],[80,9,43,5],[80,10,43,6],[80,17,43,13,"error"],[80,22,43,18],[80,24,43,20],[81,10,44,6,"console"],[81,17,44,13],[81,18,44,14,"error"],[81,23,44,19],[81,24,44,20],[81,52,44,48],[81,54,44,50,"error"],[81,59,44,55],[81,60,44,56],[82,10,45,6,"Alert"],[82,22,45,11],[82,23,45,11,"Alert"],[82,28,45,11],[82,29,45,12,"alert"],[82,34,45,17],[82,35,45,18],[82,43,45,26],[82,45,45,28],[82,60,45,43],[82,61,45,44],[83,10,46,6],[83,17,46,13],[83,22,46,18],[84,8,47,4],[84,9,47,5],[84,18,47,14],[85,10,48,6,"setSaving"],[85,19,48,15],[85,20,48,16],[85,25,48,21],[85,26,48,22],[86,8,49,4],[87,6,50,2],[87,7,50,3],[88,6,50,3],[88,22,15,8,"updateProfile"],[88,35,15,21,"updateProfile"],[88,36,15,21,"_x"],[88,38,15,21],[89,8,15,21],[89,15,15,21,"_ref"],[89,19,15,21],[89,20,15,21,"apply"],[89,25,15,21],[89,32,15,21,"arguments"],[89,41,15,21],[90,6,15,21],[91,4,15,21],[91,7,50,3],[92,4,52,2],[92,8,52,8,"setFormData"],[92,19,52,19],[92,22,52,22,"setFormData"],[92,23,52,23,"profile"],[92,30,52,30],[92,32,52,32,"user"],[92,36,52,36],[92,41,52,41],[93,6,53,4,"setFirstName"],[93,18,53,16],[93,19,53,17,"profile"],[93,26,53,24],[93,28,53,26,"first_name"],[93,38,53,36],[93,42,53,40],[93,44,53,42],[93,45,53,43],[94,6,54,4,"setLastName"],[94,17,54,15],[94,18,54,16,"profile"],[94,25,54,23],[94,27,54,25,"last_name"],[94,36,54,34],[94,40,54,38],[94,42,54,40],[94,43,54,41],[95,6,55,4,"setEmail"],[95,14,55,12],[95,15,55,13,"profile"],[95,22,55,20],[95,24,55,22,"email"],[95,29,55,27],[95,33,55,31,"user"],[95,37,55,35],[95,39,55,37,"email"],[95,44,55,42],[95,48,55,46],[95,50,55,48],[95,51,55,49],[96,6,56,4,"setPhone"],[96,14,56,12],[96,15,56,13,"profile"],[96,22,56,20],[96,24,56,22,"phone"],[96,29,56,27],[96,33,56,31],[96,35,56,33],[96,36,56,34],[97,6,57,4,"setAddress"],[97,16,57,14],[97,17,57,15,"profile"],[97,24,57,22],[97,26,57,24,"address"],[97,33,57,31],[97,37,57,35],[97,39,57,37],[97,40,57,38],[98,6,58,4,"setCity"],[98,13,58,11],[98,14,58,12,"profile"],[98,21,58,19],[98,23,58,21,"city"],[98,27,58,25],[98,31,58,29],[98,33,58,31],[98,34,58,32],[99,4,59,2],[99,5,59,3],[100,4,61,2],[100,11,61,9],[101,6,62,4,"firstName"],[101,15,62,13],[102,6,63,4,"setFirstName"],[102,18,63,16],[103,6,64,4,"lastName"],[103,14,64,12],[104,6,65,4,"setLastName"],[104,17,65,15],[105,6,66,4,"email"],[105,11,66,9],[106,6,67,4,"setEmail"],[106,14,67,12],[107,6,68,4,"phone"],[107,11,68,9],[108,6,69,4,"setPhone"],[108,14,69,12],[109,6,70,4,"address"],[109,13,70,11],[110,6,71,4,"setAddress"],[110,16,71,14],[111,6,72,4,"city"],[111,10,72,8],[112,6,73,4,"setCity"],[112,13,73,11],[113,6,74,4,"saving"],[113,12,74,10],[114,6,75,4,"updateProfile"],[114,19,75,17],[115,6,76,4,"setFormData"],[116,4,77,2],[116,5,77,3],[117,2,78,0],[118,2,78,1,"_s"],[118,4,78,1],[118,5,4,16,"useProfileForm"],[118,19,4,30],[119,0,4,30],[119,3]],"functionMap":{"names":["<global>","useProfileForm","updateProfile","setFormData"],"mappings":"AAA;OCG;wBCW;GDmC;sBEE;GFO;CDmB"},"hasCjsExports":false},"type":"js/module"}]}